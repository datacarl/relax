<template name="home">
  <a href="{{ pathFor 'new' }}" class="btn btn-primary">New item</a>
  <table class="table table-responsive table-striped table-hover">
    <thead>
      <tr>
        <th id="name">Name</th>
        <th id="category">Category</th>
        <th id="notes">Notes</th>
        <th id="nextService">Next Service</th>
        <th id="location">Location</th>
        <th id="count">Count</th>
        <th id="todos">Todos</th>
      </tr>
    </thead>
    <tbody>
      {{> search}}
      {{#each items}}
        {{> itemListItem}}
      {{/each}}
    </tbody>
  </table>
  <a href="{{ pathFor 'new' }}" class="btn btn-primary">New item</a>
  {{> consumables}}
</template>

<template name="search">
  <tr>
    <td><input id="name" value="{{session 'name'}}" class="form-control" type="text"></td>
    <td><input id="category" value="{{session 'category'}}" class="form-control" type="text"></td>
    <td><input id="notes" value="{{session 'notes'}}" class="form-control" type="text"></td>
    <td><input id="nextService" value="{{session 'nextService'}}" class="form-control" type="text"></td>
    <td><input id="location" value="{{session 'location'}}" class="form-control" type="text"></td>
    <td class="col-sm-1"></td>
    <td class="col-sm-1"></td>
  </tr>
</template>

<template name="itemListItem">
  <tr>
    <td>{{name}}</td>
    <td>{{category}}</td>
    <td>{{notes}}</td>
    <td>{{getDate nextService}}</td>
    <td>{{location}}</td>
    <td>{{count}}</td>
    <td>{{unfinishedTodosCount}}</td>
  </tr>
</template>

<template name="consumables">
  <h1>Consumables</h1>
  <table class="table table-responsive table-striped table-hover">
    <thead>
      <tr>
        <th id="name">Name</th>
        <th id="nextService">Current count</th>
        <th id="count">Added at</th>
        <th id="count">Done</th>
      </tr>
    </thead>
    <tbody>
      {{#each consumables}}
        {{> consumable}}
      {{/each}}
    </tbody>
    {{> newConsumable}}
  </table>
</template>

<template name="consumable">
  <tr>
    <td>{{name}}</td>
    <td>{{currentCount}}</td>
    <td>{{getDate createdAt}}</td>
    <td><input id='archive' checked={{archivedAt}} type="checkbox"></td>
  </tr>
</template>

<template name="newConsumable">
  <h4>New consumable</h4>
  <form id='new-consumable'>
    <tr>
      <td><input id='name' placeholder='name' class="form-control" type="text"> </td>
      <td><input id='current-count' placeholder='current count' class="form-control" type="text"> </td>
      <input type="submit" value="add">
    </tr>
  </form>
</template>
